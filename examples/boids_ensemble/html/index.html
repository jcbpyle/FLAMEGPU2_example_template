<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLAMEGPU2 Reproducible Search Experiment Generation: FLAMEGPU2 Reproducible Search Experimentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLAMEGPU2 Reproducible Search Experiment Generation
   </div>
   <div id="projectbrief">Generate python based experiments to search over the parameter space of a FLAMEGPU2 agent-based model.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FLAMEGPU2 Reproducible Search Experimentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>This repository acts as an example to be used as a template for creating standalone FLAMEGPU2 projects runnning parameter search ensemble experiments of python(SWIG) based models.</p>
<p><a href="https://github.com/FLAMEGPU/FLAMEGPU2_dev">FLAMEGPU2</a> is downloaded via CMake and configured as a dependency of the project.</p>
<p>Currently, it uses the version of FLAMEGPU2 from master, this can be changed locally by setting the CMake variable <code>FLAMEGPU2_Version</code> to point to a different git branch or tag. You can also change it for all users, by changing <code>cmake/flamegpu2.cmake:5</code> which provides the default value.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Example Python model</h2>
<p>An ensemble of boids models can be found at <code>/examples/boids_ensemble</code>. Running this script will execute a single visual simulation of the model.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Running model ensembles</h2>
<p>Within the script variables: <code>ENSEMBLE_RUNS</code>, <code>POPULATION_SIZE</code> and <code>STEPS</code> may be edited to alter: the number of models simulated; boid agent population size; and how many simulation steps each model in to be run for respectively.</p>
<p>To perform an ensemble experiment a batch file <code>run_boids_ensemble.bat</code> has been provided. Alternatively a call to <code>boids_ensemble.py</code> within a python environment should be made.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Setting up a search experiment</h2>
<p>Commented out in <code>/examples/boids_ensemble</code> is an example of how to set up a simple search experiment for the boids model.</p>
<p>The experiment generator provides an interface for setting up an experiment for a particular model, which will then automatically generate and run an ensemble of the desired model with inital parameter values as specified during the experiment setup.</p>
<p>This requires user specification of a valid way to generate intial states for the model. Global variables and all variables for each population of agents, as well as the initial population sizes for these agents, must be specified.</p>
<p>The classes <code>AgentPopulation()</code> and <code>InitialStateGenerator()</code> are intended to be used for this purpose.</p>
<p>After designing the python(SWIG) model agent populations should be provided for each population of agents, including agents of the same type but initialised in a different state. For example:</p>
<div class="fragment"><div class="line">population1 = experiment_generator.AgentPopulation();</div>
<div class="line">population1.setDefaultState(&#39;Default1&#39;);</div>
<div class="line">population1.setPopSizeRandom((256,512));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Setting up a genetic algorithm</h2>
<h2><a class="anchor" id="autotoc_md5"></a>
Dependencies</h2>
<p>The dependencies below are required for building FLAME GPU 2.</p>
<p>Only documentation can be built without the required dependencies (however Doxygen is still required).</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Required</h2>
<ul>
<li><a href="https://cmake.org/">CMake</a> &gt;= 3.12<ul>
<li>CMake 3.16 is known to have issues on certain platforms</li>
</ul>
</li>
<li><a href="https://developer.nvidia.com/cuda-toolkit">CUDA Toolkit</a> &gt;= 9.0</li>
<li><a href="https://git-scm.com/">git</a>: Required by CMake for downloading dependencies</li>
<li><em>Linux:</em><ul>
<li><a href="https://www.gnu.org/software/make/">make</a></li>
<li>gcc/g++ &gt;= 6 (version requirements <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#system-requirements">here</a>)<ul>
<li>gcc/g++ &gt;= 7 required for the test suite</li>
</ul>
</li>
</ul>
</li>
<li><em>Windows:</em><ul>
<li>Visual Studio 2015 or higher (2019 preferred)</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Building FLAME GPU 2</h1>
<p>FLAME GPU 2 uses <a href="https://cmake.org/">CMake</a>, as a cross-platform process, for configuring and generating build directives, e.g. <code>Makefile</code> or <code>.vcxproj</code>. This is used to build the FLAMEGPU2 library, examples, tests and documentation.</p>
<p>Below the core commands are provided, for the full guide refer to the main <a href="https://github.com/FLAMEGPU/FLAMEGPU2_dev/blob/master/README.md">FLAMEGPU2 guide</a>.</p>
<p>When building it is required to enable python swig in order to run python based models.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Linux</h2>
<p>Under Linux, <code>cmake</code> can be used to generate makefiles specific to your system:</p>
<div class="fragment"><div class="line">mkdir -p build &amp;&amp; cd build</div>
<div class="line">cmake .. </div>
<div class="line">make -j8</div>
</div><!-- fragment --><p>The option <code>-j8</code> enables parallel compilation using upto 8 threads, this is recommended to improve build times.</p>
<p>By default a <code>Makefile</code> for the <code>Release</code> build configuration will be generated.</p>
<p>Alternatively, using <code>-DCMAKE_BUILD_TYPE=</code>, <code>Debug</code> or <code>Profile</code> build configurations can be generated:</p>
<div class="fragment"><div class="line">mkdir -p build &amp;&amp; cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Profile</div>
<div class="line">make -j8</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Windows</h2>
<p><em>Note: If installing CMake on Windows ensure CMake is added to the system path, allowing <code>cmake</code> to be used via <code>cmd</code>, this option is disabled within the installer by default.</em></p>
<p>When generating Visual studio project files, using <code>cmake</code> (or <code>cmake-gui</code>), the platform <b>must</b> be specified as <code>x64</code>.</p>
<p>Using <code>cmake</code> this takes the form <code>-A x64</code>:</p>
<div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -A x64</div>
<div class="line">ALL_BUILD.sln</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
